<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sticky Header Test - Pre-Header + TOC</title>
    <link rel="stylesheet" href="style.css">
    <!-- Tocbot CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.21.1/tocbot.css">
    <!-- Tocbot JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.21.1/tocbot.min.js"></script>
    <script src="code.js" defer></script>
    <style>
        /* Test-specific styles */
        .test-content {
            height: 300vh; /* Make page very long to test scrolling */
            background: linear-gradient(to bottom, #f0f0f0, #e0e0e0, #d0d0d0);
            padding: 2rem;
        }
        
        .test-section {
            margin-bottom: 4rem;
            padding: 3rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            min-height: 400px;
        }
        
        .sticky-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 10000;
            max-width: 300px;
        }
        
        .scroll-progress {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 75, 141, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 12px;
            z-index: 10000;
        }
    </style>
</head>
<body>
    <!-- WordPress Pre-Header -->
    <div id="pre-header">
        <div class="wrap-safari">
            <nav id="pre-header-core" class="main-navigation">
                <div id="pre-header-links-inner" class="header-links">
                    <ul class="menu">
                        <li class="menu-item"><a href="#home">üè† Home</a></li>
                        <li class="menu-item"><a href="#about">‚ÑπÔ∏è About</a></li>
                        <li class="menu-item"><a href="#services">üõ†Ô∏è Services</a></li>
                        <li class="menu-item"><a href="mailto:test@example.com">üìß Email</a></li>
                        <li class="menu-item"><a href="tel:+1234567890">üìû Phone</a></li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>

    <article>
        <header style="text-align: center; padding: 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-bottom: 2rem;">
            <h1>üß™ Sticky Header Test Page</h1>
            <p>Testing the sticky pre-header and TOC positioning across all browsers</p>
            <p><strong>Instructions:</strong> Scroll down to see the pre-header stay fixed at the top and the TOC become sticky below it.</p>
        </header>

        <!-- Table of Contents - Auto-generated by Tocbot -->
        <nav class="toc" id="toc">
            <h2>üìã Table of Contents</h2>
            <!-- Tocbot will automatically populate this -->
        </nav>

        <main>
            <div class="test-content">
                <section id="introduction" class="test-section">
                    <h2>üöÄ Introduction</h2>
                    <p>This test page demonstrates the sticky header functionality with both the WordPress pre-header and the TOC working together.</p>
                    <h3>What to Test</h3>
                    <ul>
                        <li><strong>Pre-Header Stickiness:</strong> The blue header at the top should remain fixed when scrolling</li>
                        <li><strong>TOC Positioning:</strong> The TOC should become sticky below the pre-header when scrolled past</li>
                        <li><strong>Proper Spacing:</strong> No content should be hidden behind the sticky elements</li>
                        <li><strong>Responsive Behavior:</strong> Test on different screen sizes</li>
                    </ul>
                </section>

                <section id="pre-header-test" class="test-section">
                    <h2>üîù Pre-Header Test</h2>
                    <p>The pre-header should be visible at the top of the screen at all times. It contains navigation links and contact information.</p>
                    <h3>Pre-Header Features</h3>
                    <ul>
                        <li>Fixed positioning at top of viewport</li>
                        <li>Blue gradient background with blur effect</li>
                        <li>Responsive height (45px-70px based on screen size)</li>
                        <li>Z-index 1000 (highest priority)</li>
                        <li>Navigation menu with hover effects</li>
                    </ul>
                    <p>Scroll up and down to verify the pre-header stays in place.</p>
                </section>

                <section id="toc-test" class="test-section">
                    <h2>üìë TOC Test</h2>
                    <p>The Table of Contents should become sticky when you scroll past its original position, positioning itself below the pre-header.</p>
                    <h3>TOC Features</h3>
                    <ul>
                        <li>Automatic generation from page headings</li>
                        <li>Sticky positioning below pre-header</li>
                        <li>Active link highlighting</li>
                        <li>Smooth scrolling to sections</li>
                        <li>Responsive design</li>
                    </ul>
                    <h4>Nested Heading Test</h4>
                    <p>This nested heading should appear in the TOC hierarchy.</p>
                </section>

                <section id="positioning-test" class="test-section">
                    <h2>üìê Positioning Test</h2>
                    <p>This section tests the proper positioning and spacing of sticky elements.</p>
                    <h3>Expected Behavior</h3>
                    <ul>
                        <li>Pre-header at top (z-index: 1000)</li>
                        <li>TOC below pre-header when sticky (z-index: 999)</li>
                        <li>Content below both sticky elements</li>
                        <li>No overlapping or hidden content</li>
                    </ul>
                    <h4>Spacing Verification</h4>
                    <p>Check that this content is not hidden behind the sticky elements when scrolling.</p>
                </section>

                <section id="responsive-test" class="test-section">
                    <h2>üì± Responsive Test</h2>
                    <p>Test the responsive behavior by resizing your browser window or testing on different devices.</p>
                    <h3>Breakpoints</h3>
                    <ul>
                        <li><strong>Desktop (‚â•1200px):</strong> Pre-header 70px, TOC positioned at 70px</li>
                        <li><strong>Tablet (768px-1199px):</strong> Pre-header 60px, TOC positioned at 60px</li>
                        <li><strong>Mobile (‚â§768px):</strong> Pre-header 50px, TOC positioned at 50px</li>
                        <li><strong>Small Mobile (‚â§480px):</strong> Pre-header 45px, TOC positioned at 45px</li>
                    </ul>
                    <h4>Mobile Considerations</h4>
                    <p>On mobile devices, the TOC should adapt its width and the pre-header should remain accessible.</p>
                </section>

                <section id="browser-compatibility" class="test-section">
                    <h2>üåê Browser Compatibility</h2>
                    <p>This implementation should work consistently across all major browsers.</p>
                    <h3>Supported Browsers</h3>
                    <ul>
                        <li><strong>Chrome:</strong> Full support with all features</li>
                        <li><strong>Firefox:</strong> Excellent compatibility</li>
                        <li><strong>Safari:</strong> Works with webkit prefixes</li>
                        <li><strong>Edge:</strong> Full support (Chromium-based)</li>
                    </ul>
                    <h4>Testing Checklist</h4>
                    <ul>
                        <li>‚úÖ Pre-header stays fixed at top</li>
                        <li>‚úÖ TOC becomes sticky below pre-header</li>
                        <li>‚úÖ Smooth scrolling works</li>
                        <li>‚úÖ Active link highlighting functions</li>
                        <li>‚úÖ Responsive design adapts properly</li>
                        <li>‚úÖ No content is hidden or overlapped</li>
                    </ul>
                </section>

                <section id="conclusion" class="test-section">
                    <h2>‚úÖ Conclusion</h2>
                    <p>If you can see this section and all the sticky behavior works as described above, the implementation is successful!</p>
                    <h3>Success Criteria</h3>
                    <ul>
                        <li>Pre-header remains visible at all scroll positions</li>
                        <li>TOC becomes sticky and positions correctly below pre-header</li>
                        <li>All content remains accessible and properly spaced</li>
                        <li>Responsive behavior works across different screen sizes</li>
                        <li>Cross-browser compatibility is maintained</li>
                    </ul>
                    <p><strong>üéâ Congratulations!</strong> The sticky header implementation with Tocbot library is working perfectly!</p>
                </section>
            </div>
        </main>
    </article>

    <!-- Status Indicators -->
    <div class="sticky-indicator" id="sticky-status">
        <strong>üìä Sticky Status:</strong><br>
        Pre-Header: <span id="preheader-status">Fixed</span><br>
        TOC: <span id="toc-status">Normal</span><br>
        Scroll Position: <span id="scroll-pos">0px</span>
    </div>

    <div class="scroll-progress" id="scroll-progress">
        Scroll: 0%
    </div>

    <script>
        // Status monitoring
        function updateStatus() {
            const scrollPos = window.pageYOffset || document.documentElement.scrollTop;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = Math.round((scrollPos / docHeight) * 100);
            
            document.getElementById('scroll-pos').textContent = scrollPos + 'px';
            document.getElementById('scroll-progress').textContent = `Scroll: ${scrollPercent}%`;
            
            const toc = document.querySelector('#toc');
            const tocStatus = toc && toc.classList.contains('is-sticky') ? 'Sticky' : 'Normal';
            document.getElementById('toc-status').textContent = tocStatus;
        }

        window.addEventListener('scroll', updateStatus, { passive: true });
        window.addEventListener('resize', updateStatus);
        updateStatus();
    </script>
</body>
</html>
